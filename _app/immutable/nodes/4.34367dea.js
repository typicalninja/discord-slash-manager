import{s as he,C as A,D as B,h as y,d,j as a,i as S,u as f,v as G,Q as lt,f as k,l as F,a as M,g as R,m as V,c as U,r as X,E as ne,n as Z,F as Ye,K as nt,R as at,e as ye,N as Ze,p as ot,S as ut,w as Ue,L as ct,M as Fe}from"../chunks/scheduler.d1e8f134.js";import{S as de,i as fe,b as ee,d as te,m as re,g as we,t as N,c as ke,a as j,e as se,f as Je,h as Xe,j as ht}from"../chunks/index.70f1320d.js";import{b as Ve}from"../chunks/localStore.3b7c62f8.js";import{p as dt}from"../chunks/stores.f237babf.js";import{S as ft,y as Ee,n as pt,a as je,i as Ae,t as mt,j as gt,e as vt,r as Be,d as bt,b as pe,z as _t,k as yt,v as Qe,w as wt,x as kt}from"../chunks/context.7addb18c.js";import{b as Oe}from"../chunks/paths.5c22c135.js";import{f as Ne}from"../chunks/api.a7c8d8cc.js";import{t as Re,d as me}from"../chunks/constants.85e98373.js";import{r as He,d as Rt}from"../chunks/index.6b3c40ea.js";import{t as ce}from"../chunks/Toaster.svelte_svelte_type_style_lang.7ad7c14e.js";import{g as et}from"../chunks/navigation.f3cd7d93.js";const It=!0,Ct=It;class Et extends ft{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),qe(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $e(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $e(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Ee(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const o=this.hasListeners();o&&Ge(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(t),o&&(this.currentQuery!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const h=this.computeRefetchInterval();o&&(this.currentQuery!==s||this.options.enabled!==r.enabled||h!==this.currentRefetchInterval)&&this.updateRefetchInterval(h)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return $t(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(pt)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),je||this.currentResult.isStale||!Ae(this.options.staleTime))return;const t=mt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(je||this.options.enabled===!1||!Ae(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||gt.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,s=this.options,o=this.currentResult,h=this.currentResultState,i=this.currentResultOptions,n=e!==r,u=n?e.state:this.currentQueryInitialState,v=n?this.currentResult:this.previousQueryResult,{state:c}=e;let{dataUpdatedAt:p,error:_,errorUpdatedAt:T,fetchStatus:m,status:g}=c,P=!1,b=!1,E;if(t._optimisticResults){const D=this.hasListeners(),O=!D&&qe(e,t),I=D&&Ge(e,r,t,s);(O||I)&&(m=vt(e.options.networkMode)?"fetching":"paused",p||(g="loading")),t._optimisticResults==="isRestoring"&&(m="idle")}if(t.keepPreviousData&&!c.dataUpdatedAt&&v!=null&&v.isSuccess&&g!=="error")E=v.data,p=v.dataUpdatedAt,g=v.status,P=!0;else if(t.select&&typeof c.data<"u")if(o&&c.data===(h==null?void 0:h.data)&&t.select===this.selectFn)E=this.selectResult;else try{this.selectFn=t.select,E=t.select(c.data),E=Be(o==null?void 0:o.data,E,t),this.selectResult=E,this.selectError=null}catch(D){this.selectError=D}else E=c.data;if(typeof t.placeholderData<"u"&&typeof E>"u"&&g==="loading"){let D;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(i==null?void 0:i.placeholderData))D=o.data;else if(D=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof D<"u")try{D=t.select(D),this.selectError=null}catch(O){this.selectError=O}typeof D<"u"&&(g="success",E=Be(o==null?void 0:o.data,D,t),b=!0)}this.selectError&&(_=this.selectError,E=this.selectResult,T=Date.now(),g="error");const C=m==="fetching",w=g==="loading",$=g==="error";return{status:g,fetchStatus:m,isLoading:w,isSuccess:g==="success",isError:$,isInitialLoading:w&&C,data:E,dataUpdatedAt:p,error:_,errorUpdatedAt:T,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:C,isRefetching:C&&!w,isLoadingError:$&&c.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:b,isPreviousData:P,isRefetchError:$&&c.dataUpdatedAt!==0,isStale:Se(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ee(r,t))return;this.currentResult=r;const s={cache:!0},o=()=>{if(!t)return!0;const{notifyOnChangeProps:h}=this.options,i=typeof h=="function"?h():h;if(i==="all"||!i&&!this.trackedProps.size)return!0;const n=new Set(i??this.trackedProps);return this.options.useErrorBoundary&&n.add("error"),Object.keys(this.currentResult).some(u=>{const v=u;return this.currentResult[v]!==t[v]&&n.has(v)})};(e==null?void 0:e.listeners)!==!1&&o()&&(s.listeners=!0),this.notify({...s,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!bt(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){pe.batch(()=>{if(e.onSuccess){var t,r,s,o;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(s=(o=this.options).onSettled)==null||s.call(o,this.currentResult.data,null)}else if(e.onError){var h,i,n,u;(h=(i=this.options).onError)==null||h.call(i,this.currentResult.error),(n=(u=this.options).onSettled)==null||n.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:v})=>{v(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Qt(l,e){return e.enabled!==!1&&!l.state.dataUpdatedAt&&!(l.state.status==="error"&&e.retryOnMount===!1)}function qe(l,e){return Qt(l,e)||l.state.dataUpdatedAt>0&&$e(l,e,e.refetchOnMount)}function $e(l,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(l):t;return r==="always"||r!==!1&&Se(l,e)}return!1}function Ge(l,e,t,r){return t.enabled!==!1&&(l!==e||r.enabled===!1)&&(!t.suspense||l.state.status!=="error")&&Se(l,t)}function Se(l,e){return l.isStaleByTime(e.staleTime)}function $t(l,e,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?e.isPlaceholderData:!Ee(l.getCurrentResult(),e)}function tt(){return _t()}function Ot(l,e){const t=tt(),r=t.defaultQueryOptions(l);r._optimisticResults="optimistic";let s=new e(t,r);r.onError&&(r.onError=pe.batchCalls(r.onError)),r.onSuccess&&(r.onSuccess=pe.batchCalls(r.onSuccess)),r.onSettled&&(r.onSettled=pe.batchCalls(r.onSettled)),He(s).subscribe(i=>{s=i,s.setOptions(r,{listeners:!1})});const o=He(s.getCurrentResult(),i=>s.subscribe(pe.batchCalls(i))),{subscribe:h}=Rt(o,i=>(i=s.getOptimisticResult(r),r.notifyOnChangeProps?i:s.trackResult(i)));return{subscribe:h}}function St(l,e,t){const r=yt(l,e,t);return Ot(r,Et)}function xt(l){let e,t,r,s,o;return{c(){e=A("svg"),t=A("path"),r=A("path"),s=A("path"),o=A("path"),this.h()},l(h){e=B(h,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var i=y(e);t=B(i,"path",{d:!0}),y(t).forEach(d),r=B(i,"path",{d:!0}),y(r).forEach(d),s=B(i,"path",{d:!0}),y(s).forEach(d),o=B(i,"path",{d:!0}),y(o).forEach(d),i.forEach(d),this.h()},h(){a(t,"d","M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"),a(r,"d","M21 3v5h-5"),a(s,"d","M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"),a(o,"d","M8 16H3v5"),a(e,"class",l[0]),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","24"),a(e,"height","24"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(h,i){S(h,e,i),f(e,t),f(e,r),f(e,s),f(e,o)},p(h,[i]){i&1&&a(e,"class",h[0])},i:G,o:G,d(h){h&&d(e)}}}function Pt(l,e,t){let{class:r=""}=e;return l.$$set=s=>{"class"in s&&t(0,r=s.class)},[r]}class rt extends de{constructor(e){super(),fe(this,e,Pt,xt,he,{class:0})}}function Tt(l){let e,t,r;return{c(){e=A("svg"),t=A("path"),r=A("polyline"),this.h()},l(s){e=B(s,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var o=y(e);t=B(o,"path",{d:!0}),y(t).forEach(d),r=B(o,"polyline",{points:!0}),y(r).forEach(d),o.forEach(d),this.h()},h(){a(t,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),a(r,"points","22 4 12 14.01 9 11.01"),a(e,"class",l[0]),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","24"),a(e,"height","24"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(s,o){S(s,e,o),f(e,t),f(e,r)},p(s,[o]){o&1&&a(e,"class",s[0])},i:G,o:G,d(s){s&&d(e)}}}function Dt(l,e,t){let{class:r=""}=e;return l.$$set=s=>{"class"in s&&t(0,r=s.class)},[r]}class Lt extends de{constructor(e){super(),fe(this,e,Dt,Tt,he,{class:0})}}function Mt(l){let e,t,r,s,o,h;return{c(){e=A("svg"),t=A("path"),r=A("path"),s=A("path"),o=A("line"),h=A("line"),this.h()},l(i){e=B(i,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var n=y(e);t=B(n,"path",{d:!0}),y(t).forEach(d),r=B(n,"path",{d:!0}),y(r).forEach(d),s=B(n,"path",{d:!0}),y(s).forEach(d),o=B(n,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),y(o).forEach(d),h=B(n,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),y(h).forEach(d),n.forEach(d),this.h()},h(){a(t,"d","M3 6h18"),a(r,"d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"),a(s,"d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"),a(o,"x1","10"),a(o,"x2","10"),a(o,"y1","11"),a(o,"y2","17"),a(h,"x1","14"),a(h,"x2","14"),a(h,"y1","11"),a(h,"y2","17"),a(e,"class",l[0]),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","24"),a(e,"height","24"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(i,n){S(i,e,n),f(e,t),f(e,r),f(e,s),f(e,o),f(e,h)},p(i,[n]){n&1&&a(e,"class",i[0])},i:G,o:G,d(i){i&&d(e)}}}function Ut(l,e,t){let{class:r=""}=e;return l.$$set=s=>{"class"in s&&t(0,r=s.class)},[r]}class st extends de{constructor(e){super(),fe(this,e,Ut,Mt,he,{class:0})}}function Ft(l){let e,t;return{c(){e=A("svg"),t=A("path"),this.h()},l(r){e=B(r,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var s=y(e);t=B(s,"path",{d:!0}),y(t).forEach(d),s.forEach(d),this.h()},h(){a(t,"d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"),a(e,"class",l[0]),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","24"),a(e,"height","24"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(r,s){S(r,e,s),f(e,t)},p(r,[s]){s&1&&a(e,"class",r[0])},i:G,o:G,d(r){r&&d(e)}}}function Vt(l,e,t){let{class:r=""}=e;return l.$$set=s=>{"class"in s&&t(0,r=s.class)},[r]}class it extends de{constructor(e){super(),fe(this,e,Vt,Ft,he,{class:0})}}function jt(l){const e=Math.cos(l*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function Ie(l,{delay:e=0,duration:t=400,easing:r=lt}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:r,css:o=>`opacity: ${o*s}`}}function Ke(l,e,t){const r=l.slice();return r[17]=e[t],r}function At(l,e,t){const r=l.slice();return r[14]=e[t],r}function Bt(l){let e,t;return e=new Lt({props:{class:"text-green-300"}}),{c(){ee(e.$$.fragment)},l(r){te(e.$$.fragment,r)},m(r,s){re(e,r,s),t=!0},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Nt(l){let e,t="(╯°□°）╯︵ ┻━┻ | Error!!";return{c(){e=k("p"),e.textContent=t,this.h()},l(r){e=R(r,"P",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-pu03ud"&&(e.textContent=t),this.h()},h(){a(e,"class","font-bold text-red-300")},m(r,s){S(r,e,s)},i:G,o:G,d(r){r&&d(e)}}}function Ht(l){let e,t;return e=new rt({props:{class:"animate-spin text-yellow-300"}}),{c(){ee(e.$$.fragment)},l(r){te(e.$$.fragment,r)},m(r,s){re(e,r,s),t=!0},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function qt(l){let e,t;return{c(){e=k("img"),this.h()},l(r){e=R(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){at(e.src,t=Oe+"/slash.png")||a(e,"src",t),a(e,"alt","loading..."),a(e,"class","animate-spin w-5 h-5 mx-auto")},m(r,s){S(r,e,s)},i:G,o:G,d(r){r&&d(e)}}}function Gt(l){let e=[],t=new Map,r,s,o=Qe(l[4]);const h=i=>i[17].id;for(let i=0;i<o.length;i+=1){let n=Ke(l,o,i),u=h(n);t.set(u,e[i]=We(u,n))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=ye()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);r=ye()},m(i,n){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(i,n);S(i,r,n),s=!0},p(i,n){n&153&&(o=Qe(i[4]),we(),e=wt(e,n,h,1,i,o,t,r.parentNode,kt,We,r,Ke),ke())},i(i){if(!s){for(let n=0;n<o.length;n+=1)j(e[n]);s=!0}},o(i){for(let n=0;n<e.length;n+=1)N(e[n]);s=!1},d(i){i&&d(r);for(let n=0;n<e.length;n+=1)e[n].d(i)}}}function Kt(l){let e=[],t=new Map,r,s,o=Qe(Array.from({length:3},Yt));const h=i=>i[14];for(let i=0;i<o.length;i+=1){let n=At(l,o,i),u=h(n);t.set(u,e[i]=zt(u))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=ye()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);r=ye()},m(i,n){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(i,n);S(i,r,n),s=!0},p:G,i(i){if(!s){for(let n=0;n<o.length;n+=1)j(e[n]);s=!0}},o(i){for(let n=0;n<e.length;n+=1)N(e[n]);s=!1},d(i){i&&d(r);for(let n=0;n<e.length;n+=1)e[n].d(i)}}}function ze(l){let e,t,r,s,o,h,i,n,u;t=new st({props:{class:"text-red-300"}});function v(){return l[11](l[17])}return o=new it({props:{class:"text-blurple-300"}}),{c(){e=k("button"),ee(t.$$.fragment),r=M(),s=k("a"),ee(o.$$.fragment),this.h()},l(c){e=R(c,"BUTTON",{class:!0});var p=y(e);te(t.$$.fragment,p),p.forEach(d),r=U(c),s=R(c,"A",{href:!0,class:!0});var _=y(s);te(o.$$.fragment,_),_.forEach(d),this.h()},h(){a(e,"class","absolute top-1 right-1 p-1 border-l border-b border-primary-600 hover:bg-primary-700"),a(s,"href",h="/edit?commandId="+l[17].id+"&to="+l[0]),a(s,"class","absolute bottom-1 right-1 p-1 border-l border-t border-primary-600 hover:bg-primary-700")},m(c,p){S(c,e,p),re(t,e,null),S(c,r,p),S(c,s,p),re(o,s,null),i=!0,n||(u=ne(e,"click",v),n=!0)},p(c,p){l=c,(!i||p&17&&h!==(h="/edit?commandId="+l[17].id+"&to="+l[0]))&&a(s,"href",h)},i(c){i||(j(t.$$.fragment,c),j(o.$$.fragment,c),i=!0)},o(c){N(t.$$.fragment,c),N(o.$$.fragment,c),i=!1},d(c){c&&(d(e),d(r),d(s)),se(t),se(o),n=!1,u()}}}function We(l,e){let t,r,s=e[17].name+"",o,h,i,n=Re(e[17].type)+"",u,v,c,p=e[17].description+"",_,T,m=!e[3].includes(e[17].id),g,P,b,E,C,w=m&&ze(e);return{key:l,first:null,c(){t=k("div"),r=k("h1"),o=F(s),h=M(),i=k("span"),u=F(n),v=M(),c=k("p"),_=F(p),T=M(),w&&w.c(),g=M(),this.h()},l($){t=R($,"DIV",{class:!0});var x=y(t);r=R(x,"H1",{class:!0});var D=y(r);o=V(D,s),D.forEach(d),h=U(x),i=R(x,"SPAN",{class:!0});var O=y(i);u=V(O,n),O.forEach(d),v=U(x),c=R(x,"P",{class:!0});var I=y(c);_=V(I,p),I.forEach(d),T=U(x),w&&w.l(x),g=U(x),x.forEach(d),this.h()},h(){a(r,"class","text-lg font-bold"),a(i,"class","text-sm font-semibold text-primary-200"),a(c,"class","text-sm text-primary-200"),a(t,"class",P="relative "+(e[3].includes(e[17].id)&&"bg-red-800 hover:bg-red-900 animate-shake")+" bg-primary-700 shadow-primary-900 shadow-lg m-1 p-5 rounded-lg hover:bg-primary-800 svelte-1ijj7mi"),this.first=t},m($,x){S($,t,x),f(t,r),f(r,o),f(t,h),f(t,i),f(i,u),f(t,v),f(t,c),f(c,_),f(t,T),w&&w.m(t,null),f(t,g),C=!0},p($,x){e=$,(!C||x&16)&&s!==(s=e[17].name+"")&&Z(o,s),(!C||x&16)&&n!==(n=Re(e[17].type)+"")&&Z(u,n),(!C||x&16)&&p!==(p=e[17].description+"")&&Z(_,p),x&24&&(m=!e[3].includes(e[17].id)),m?w?(w.p(e,x),x&24&&j(w,1)):(w=ze(e),w.c(),j(w,1),w.m(t,g)):w&&(we(),N(w,1,1,()=>{w=null}),ke()),(!C||x&24&&P!==(P="relative "+(e[3].includes(e[17].id)&&"bg-red-800 hover:bg-red-900 animate-shake")+" bg-primary-700 shadow-primary-900 shadow-lg m-1 p-5 rounded-lg hover:bg-primary-800 svelte-1ijj7mi"))&&a(t,"class",P)},i($){C||(j(w),$&&Ze(()=>{C&&(E&&E.end(1),b=Je(t,Ie,{duration:1e3,delay:700,easing:jt}),b.start())}),C=!0)},o($){N(w),b&&b.invalidate(),$&&(E=Xe(t,Ie,{duration:500})),C=!1},d($){$&&d(t),w&&w.d(),$&&E&&E.end()}}}function zt(l,e){let t,r,s='<div class="h-2 w-20 mt-4 bg-slate-700 rounded"></div> <div class="h-2 w-24 bg-slate-700 rounded"></div> <div class="h-2 w-36 bg-slate-700 rounded"></div>',o,h,i,n,u,v,c,p,_,T;return i=new st({props:{class:"animate-pulse opacity-80"}}),v=new it({props:{class:"animate-pulse opacity-80"}}),{key:l,first:null,c(){t=k("div"),r=k("div"),r.innerHTML=s,o=M(),h=k("div"),ee(i.$$.fragment),n=M(),u=k("div"),ee(v.$$.fragment),c=M(),this.h()},l(m){t=R(m,"DIV",{class:!0});var g=y(t);r=R(g,"DIV",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1g1evvv"&&(r.innerHTML=s),o=U(g),h=R(g,"DIV",{class:!0});var P=y(h);te(i.$$.fragment,P),P.forEach(d),n=U(g),u=R(g,"DIV",{class:!0});var b=y(u);te(v.$$.fragment,b),b.forEach(d),c=U(g),g.forEach(d),this.h()},h(){a(r,"class","flex flex-col gap-2 animate-pulse"),a(h,"class","absolute top-1 right-1 p-1 border-l border-b border-primary-600 hover:bg-primary-800"),a(u,"class","absolute bottom-1 right-1 p-1 border-l border-t border-primary-600 hover:bg-primary-800"),a(t,"class","relative bg-primary-700 m-1 p-5 rounded-lg"),this.first=t},m(m,g){S(m,t,g),f(t,r),f(t,o),f(t,h),re(i,h,null),f(t,n),f(t,u),re(v,u,null),f(t,c),T=!0},p:G,i(m){T||(j(i.$$.fragment,m),j(v.$$.fragment,m),m&&Ze(()=>{T&&(_&&_.end(1),p=Je(t,Ie,{duration:1e3,delay:500}),p.start())}),T=!0)},o(m){N(i.$$.fragment,m),N(v.$$.fragment,m),p&&p.invalidate(),m&&(_=Xe(t,Ie,{duration:500})),T=!1},d(m){m&&d(t),se(i),se(v),m&&_&&_.end()}}}function Wt(l){let e,t,r,s=l[4].length+"",o,h,i,n,u,v,c,p,_,T='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg>',m,g,P,b,E,C,w,$,x="Create a new interaction",D,O,I,L=l[0]==="global"?"":`guild (${l[0]})`,K,Y,ae,H,z,ie,Ce,xe;const Pe=[qt,Ht,Nt,Bt],le=[];function Te(Q,q){return Q[1].isLoading?0:Q[1].isFetching?1:Q[1].isError?2:3}u=Te(l),v=le[u]=Pe[u](l),P=new rt({props:{class:(l[2]&&"animate-spin cursor-not-allowed")+" text-yellow-300"}});const De=[Kt,Gt],J=[];function Le(Q,q){return Q[1].isLoading?0:1}return H=Le(l),z=J[H]=De[H](l),{c(){e=k("div"),t=k("div"),r=k("span"),o=F(s),h=F(" Interaction"),i=M(),n=k("div"),v.c(),c=M(),p=k("div"),_=k("button"),_.innerHTML=T,m=M(),g=k("button"),ee(P.$$.fragment),E=M(),C=k("div"),w=k("div"),$=k("h1"),$.textContent=x,D=M(),O=k("p"),I=F("Click here to create a new "),K=F(L),Y=F(" interaction!"),ae=M(),z.c(),this.h()},l(Q){e=R(Q,"DIV",{class:!0});var q=y(e);t=R(q,"DIV",{class:!0});var W=y(t);r=R(W,"SPAN",{class:!0});var oe=y(r);o=V(oe,s),h=V(oe," Interaction"),oe.forEach(d),i=U(W),n=R(W,"DIV",{});var ue=y(n);v.l(ue),ue.forEach(d),c=U(W),p=R(W,"DIV",{class:!0});var ge=y(p);_=R(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-dosind"&&(_.innerHTML=T),m=U(ge),g=R(ge,"BUTTON",{class:!0});var Me=y(g);te(P.$$.fragment,Me),Me.forEach(d),ge.forEach(d),W.forEach(d),E=U(q),C=R(q,"DIV",{class:!0});var ve=y(C);w=R(ve,"DIV",{role:!0,tabindex:!0,class:!0});var be=y(w);$=R(be,"H1",{class:!0,"data-svelte-h":!0}),X($)!=="svelte-xwyc46"&&($.textContent=x),D=U(be),O=R(be,"P",{class:!0});var _e=y(O);I=V(_e,"Click here to create a new "),K=V(_e,L),Y=V(_e," interaction!"),_e.forEach(d),be.forEach(d),ae=U(ve),z.l(ve),ve.forEach(d),q.forEach(d),this.h()},h(){a(r,"class","flex items-center flex-shrink-0 ml-2"),a(_,"class","bg-primary-800 h-10 hover:bg-primary-700 px-2"),g.disabled=b=l[2]||l[1].isLoading,a(g,"class","bg-primary-800 h-10 hover:bg-primary-700 px-2"),a(p,"class","flex"),a(t,"class","bg-primary-800 w-full rounded-md flex items-center justify-between h-12 gap-1"),a($,"class","text-lg font-bold"),a(O,"class","text-sm font-semibold text-primary-100"),a(w,"role","button"),a(w,"tabindex","-1"),a(w,"class","bg-blurple-500 shadow-primary-900 shadow-lg hover:scale-105 p-5 m-1 rounded-lg"),a(C,"class","grid grid-cols-1 lg:grid-cols-4 my-3 gap-2"),a(e,"class","flex flex-col gap-2")},m(Q,q){S(Q,e,q),f(e,t),f(t,r),f(r,o),f(r,h),f(t,i),f(t,n),le[u].m(n,null),f(t,c),f(t,p),f(p,_),f(p,m),f(p,g),re(P,g,null),f(e,E),f(e,C),f(C,w),f(w,$),f(w,D),f(w,O),f(O,I),f(O,K),f(O,Y),f(C,ae),J[H].m(C,null),ie=!0,Ce||(xe=[ne(_,"click",l[6]),ne(g,"click",l[8]),ne(w,"keydown",l[6]),ne(w,"click",l[6])],Ce=!0)},p(Q,[q]){(!ie||q&16)&&s!==(s=Q[4].length+"")&&Z(o,s);let W=u;u=Te(Q),u!==W&&(we(),N(le[W],1,1,()=>{le[W]=null}),ke(),v=le[u],v||(v=le[u]=Pe[u](Q),v.c()),j(v,1),v.m(n,null));const oe={};q&4&&(oe.class=(Q[2]&&"animate-spin cursor-not-allowed")+" text-yellow-300"),P.$set(oe),(!ie||q&6&&b!==(b=Q[2]||Q[1].isLoading))&&(g.disabled=b),(!ie||q&1)&&L!==(L=Q[0]==="global"?"":`guild (${Q[0]})`)&&Z(K,L);let ue=H;H=Le(Q),H===ue?J[H].p(Q,q):(we(),N(J[ue],1,1,()=>{J[ue]=null}),ke(),z=J[H],z?z.p(Q,q):(z=J[H]=De[H](Q),z.c()),j(z,1),z.m(C,null))},i(Q){ie||(j(v),j(P.$$.fragment,Q),j(z),ie=!0)},o(Q){N(v),N(P.$$.fragment,Q),N(z),ie=!1},d(Q){Q&&d(e),le[u].d(),se(P),J[H].d(),Ce=!1,Ye(xe)}}}const Yt=(l,e)=>e;function Zt(l,e,t){let r,s,o,h,i,n,u=G,v=()=>(u(),u=nt(o,b=>t(1,n=b)),o);l.$$.on_destroy.push(()=>u());let{basePath:c=""}=e,{id:p="global"}=e;const _=tt(),T=()=>et(`${Oe}/add${p==="global"?"":`?guildId=${p}`}`);async function m(b){if(i.includes(b.id))return ce.error("Previous deletion confirmation is active.");t(3,i=i.concat([b.id]));const E=()=>{t(3,i=i.filter(C=>C!==b.id))};ce.warning(`Are you sure you want to delete "${b.name}" ${Re(b.type)} Interaction?`,{action:{label:"Delete",onClick:()=>{ce.promise(Ne(`${c}/${b.id}`,{method:"DELETE"}).then(()=>{g(),E()}),{success:`${Re(b.type)} (${b.name}) successfully deleted`,error:"Error occurred, try again",loading:"Deletion pending..."})}},onAutoClose:E,onDismiss:E,duration:2e4})}async function g(){s||(t(2,s=!0),_.invalidateQueries({queryKey:r}),setTimeout(()=>{t(2,s=!1)},2e3))}const P=b=>m(b);return l.$$set=b=>{"basePath"in b&&t(9,c=b.basePath),"id"in b&&t(0,p=b.id)},l.$$.update=()=>{l.$$.dirty&1&&t(10,r=["app.commands",p]),l.$$.dirty&1536&&v(t(5,o=St({queryKey:r,queryFn:async()=>(await Ne(c)).data,enabled:Ct,onError:b=>{ce.error(`Error occurred while fetching commands, ${b}`)}}))),l.$$.dirty&2&&t(4,h=n.data||[])},t(2,s=!1),t(3,i=[]),[p,n,s,i,h,o,T,m,g,c,r,P]}class Jt extends de{constructor(e){super(),fe(this,e,Zt,Wt,he,{basePath:9,id:0})}}function Xt(l){let e,t="View Guild commands",r,s,o=`You are currently viewing the global list.
                Enter a guild id (your bot must be invited to it)
                and click the button to manage guild specific interactions`,h,i,n,u,v,c,p,_,T;return{c(){e=k("h1"),e.textContent=t,r=M(),s=k("p"),s.textContent=o,h=M(),i=k("input"),n=M(),u=k("button"),v=F("View Guild Interaction"),this.h()},l(m){e=R(m,"H1",{"data-svelte-h":!0}),X(e)!=="svelte-1uuz0mm"&&(e.textContent=t),r=U(m),s=R(m,"P",{"data-svelte-h":!0}),X(s)!=="svelte-1xj1ath"&&(s.textContent=o),h=U(m),i=R(m,"INPUT",{id:!0,name:!0,class:!0}),n=U(m),u=R(m,"BUTTON",{class:!0});var g=y(u);v=V(g,"View Guild Interaction"),g.forEach(d),this.h()},h(){a(i,"id","guildId"),a(i,"name","guildId"),a(i,"class","bg-primary-500 rounded-md p-2 focus:ring-0 focus:ring-offset-0 focus:outline-none"),u.disabled=c=l[1]==="",a(u,"class",p=(l[1]===""?"bg-primary-600 cursor-not-allowed":"bg-blurple-500 hover:bg-blurple-600")+" p-2 rounded-lg")},m(m,g){S(m,e,g),S(m,r,g),S(m,s,g),S(m,h,g),S(m,i,g),Fe(i,l[1]),S(m,n,g),S(m,u,g),f(u,v),_||(T=[ne(i,"input",l[8]),ne(u,"click",l[4])],_=!0)},p(m,g){g&2&&i.value!==m[1]&&Fe(i,m[1]),g&2&&c!==(c=m[1]==="")&&(u.disabled=c),g&2&&p!==(p=(m[1]===""?"bg-primary-600 cursor-not-allowed":"bg-blurple-500 hover:bg-blurple-600")+" p-2 rounded-lg")&&a(u,"class",p)},d(m){m&&(d(e),d(r),d(s),d(h),d(i),d(n),d(u)),_=!1,Ye(T)}}}function er(l){let e,t="View Global List",r,s,o,h,i,n,u,v="View global commands";return{c(){e=k("h1"),e.textContent=t,r=M(),s=k("p"),o=F('You are currently viewing the list for specific guild with id "'),h=F(l[0]),i=F(`"
                Click the below button to view the global list`),n=M(),u=k("a"),u.textContent=v,this.h()},l(c){e=R(c,"H1",{"data-svelte-h":!0}),X(e)!=="svelte-1mom79c"&&(e.textContent=t),r=U(c),s=R(c,"P",{});var p=y(s);o=V(p,'You are currently viewing the list for specific guild with id "'),h=V(p,l[0]),i=V(p,`"
                Click the below button to view the global list`),p.forEach(d),n=U(c),u=R(c,"A",{href:!0,class:!0,"data-svelte-h":!0}),X(u)!=="svelte-ymyts1"&&(u.textContent=v),this.h()},h(){a(u,"href",Oe+"/dashboard"),a(u,"class","bg-emerald-500 hover:bg-emerald-600 p-2 rounded-lg")},m(c,p){S(c,e,p),S(c,r,p),S(c,s,p),f(s,o),f(s,h),f(s,i),S(c,n,p),S(c,u,p)},p(c,p){p&1&&Z(h,c[0])},d(c){c&&(d(e),d(r),d(s),d(n),d(u))}}}function tr(l){let e,t,r,s,o=l[3].username+"",h,i,n=l[3].discriminator+"",u,v,c,p=l[0]&&me.test(l[0])?`In guild view for guild ${l[0]}`:"In global view",_,T,m,g,P,b,E,C;function w(I){l[7](I)}let $={basePath:l[2]};l[0]!==void 0&&($.id=l[0]),m=new Jt({props:$}),ot.push(()=>ht(m,"id",w));function x(I,L){return L&1&&(E=null),E==null&&(E=!!(I[0]&&me.test(I[0]))),E?er:Xt}let D=x(l,-1),O=D(l);return{c(){e=k("div"),t=k("span"),r=k("h1"),s=F("Logged in for "),h=F(o),i=F("#"),u=F(n),v=M(),c=k("p"),_=F(p),T=M(),ee(m.$$.fragment),P=M(),b=k("div"),O.c(),this.h()},l(I){e=R(I,"DIV",{class:!0});var L=y(e);t=R(L,"SPAN",{});var K=y(t);r=R(K,"H1",{class:!0});var Y=y(r);s=V(Y,"Logged in for "),h=V(Y,o),i=V(Y,"#"),u=V(Y,n),Y.forEach(d),v=U(K),c=R(K,"P",{class:!0});var ae=y(c);_=V(ae,p),ae.forEach(d),K.forEach(d),T=U(L),te(m.$$.fragment,L),P=U(L),b=R(L,"DIV",{class:!0});var H=y(b);O.l(H),H.forEach(d),L.forEach(d),this.h()},h(){a(r,"class","font-bold font-mono text-3xl text-pink-300"),a(c,"class","text-sm font-medium text-primary-100"),a(b,"class","bg-primary-800 flex flex-col p-2 rounded-lg gap-2"),a(e,"class","m-5 flex flex-col gap-2")},m(I,L){S(I,e,L),f(e,t),f(t,r),f(r,s),f(r,h),f(r,i),f(r,u),f(t,v),f(t,c),f(c,_),f(e,T),re(m,e,null),f(e,P),f(e,b),O.m(b,null),C=!0},p(I,[L]){(!C||L&8)&&o!==(o=I[3].username+"")&&Z(h,o),(!C||L&8)&&n!==(n=I[3].discriminator+"")&&Z(u,n),(!C||L&1)&&p!==(p=I[0]&&me.test(I[0])?`In guild view for guild ${I[0]}`:"In global view")&&Z(_,p);const K={};L&4&&(K.basePath=I[2]),!g&&L&1&&(g=!0,K.id=I[0],ut(()=>g=!1)),m.$set(K),D===(D=x(I,L))&&O?O.p(I,L):(O.d(1),O=D(I),O&&(O.c(),O.m(b,null)))},i(I){C||(j(m.$$.fragment,I),C=!0)},o(I){N(m.$$.fragment,I),C=!1},d(I){I&&d(e),se(m),O.d()}}}function rr(l,e,t){let r,s,o,h,i;Ue(l,dt,_=>t(6,h=_)),Ue(l,Ve,_=>t(3,i=_));const n=ct(Ve);let u="";function v(){if(!me.test(u))return ce.error("The guild id is invalid, try again");ce.info(`Viewing guild "${u}"`),t(0,s=u),et(`?guildId=${u}`)}function c(_){s=_,t(0,s),t(5,r),t(6,h)}function p(){u=this.value,t(1,u)}return l.$$.update=()=>{l.$$.dirty&64&&t(5,r=h.url.searchParams),l.$$.dirty&32&&t(0,s=r&&r.get("guildId")||"global"),l.$$.dirty&1&&t(2,o=s&&me.test(s)?`applications/${n.id}/guilds/${s}/commands`:`applications/${n.id}/commands`)},[s,u,o,i,v,r,h,c,p]}class pr extends de{constructor(e){super(),fe(this,e,rr,tr,he,{})}}export{pr as component};
