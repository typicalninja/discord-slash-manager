import{s as we,f as _,a as L,g as w,h as C,c as P,r as V,d as f,j as c,i as Q,u as v,E as Z,v as G,l as A,m as j,K as Qe,e as ie,L as Oe,n as z,C as N,D as q,p as xe,M as Se,w as ae,N as Me,O as oe,F as De}from"../chunks/scheduler.80efcbe1.js";import{S as Re,i as ke,f as Le,b as Pe,d as Ue,m as Fe,a as Ae,t as je,e as Be}from"../chunks/index.27e9b36e.js";import{b as ue}from"../chunks/localStore.6c964045.js";import{p as He}from"../chunks/stores.83cc33f5.js";import{S as Ve,y as te,n as Ne,a as ce,i as he,t as qe,j as ze,e as Ge,r as de,d as Ke,b as Y,z as Ye,k as We,v as J,w as Ee,A as Ce}from"../chunks/context.33bfa983.js";import{b as re}from"../chunks/paths.e13e6876.js";import{f as fe}from"../chunks/api.379eae5e.js";import{t as X,d as W}from"../chunks/constants.85e98373.js";import{r as pe,d as Ze}from"../chunks/index.46075f7c.js";import{t as $}from"../chunks/Toaster.svelte_svelte_type_style_lang.7ad7c14e.js";import{g as Te}from"../chunks/navigation.b6010dac.js";class Je extends Ve{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),me(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return se(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return se(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),te(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const a=this.hasListeners();a&&ve(this.currentQuery,r,this.options,s)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==r||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const l=this.computeRefetchInterval();a&&(this.currentQuery!==r||this.options.enabled!==s.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),s=this.createResult(t,e);return $e(this,s,e)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(s=>{Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Ne)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),ce||this.currentResult.isStale||!he(this.options.staleTime))return;const t=qe(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ce||this.options.enabled===!1||!he(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ze.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const s=this.currentQuery,r=this.options,a=this.currentResult,l=this.currentResultState,i=this.currentResultOptions,p=e!==s,h=p?e.state:this.currentQueryInitialState,R=p?this.currentResult:this.previousQueryResult,{state:o}=e;let{dataUpdatedAt:y,error:k,errorUpdatedAt:I,fetchStatus:m,status:g}=o,M=!1,x=!1,b;if(t._optimisticResults){const E=this.hasListeners(),d=!E&&me(e,t),u=E&&ve(e,s,t,r);(d||u)&&(m=Ge(e.options.networkMode)?"fetching":"paused",y||(g="loading")),t._optimisticResults==="isRestoring"&&(m="idle")}if(t.keepPreviousData&&!o.dataUpdatedAt&&R!=null&&R.isSuccess&&g!=="error")b=R.data,y=R.dataUpdatedAt,g=R.status,M=!0;else if(t.select&&typeof o.data<"u")if(a&&o.data===(l==null?void 0:l.data)&&t.select===this.selectFn)b=this.selectResult;else try{this.selectFn=t.select,b=t.select(o.data),b=de(a==null?void 0:a.data,b,t),this.selectResult=b,this.selectError=null}catch(E){this.selectError=E}else b=o.data;if(typeof t.placeholderData<"u"&&typeof b>"u"&&g==="loading"){let E;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(i==null?void 0:i.placeholderData))E=a.data;else if(E=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof E<"u")try{E=t.select(E),this.selectError=null}catch(d){this.selectError=d}typeof E<"u"&&(g="success",b=de(a==null?void 0:a.data,E,t),x=!0)}this.selectError&&(k=this.selectError,b=this.selectResult,I=Date.now(),g="error");const S=m==="fetching",O=g==="loading",U=g==="error";return{status:g,fetchStatus:m,isLoading:O,isSuccess:g==="success",isError:U,isInitialLoading:O&&S,data:b,dataUpdatedAt:y,error:k,errorUpdatedAt:I,failureCount:o.fetchFailureCount,failureReason:o.fetchFailureReason,errorUpdateCount:o.errorUpdateCount,isFetched:o.dataUpdateCount>0||o.errorUpdateCount>0,isFetchedAfterMount:o.dataUpdateCount>h.dataUpdateCount||o.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!O,isLoadingError:U&&o.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:x,isPreviousData:M,isRefetchError:U&&o.dataUpdatedAt!==0,isStale:le(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,te(s,t))return;this.currentResult=s;const r={cache:!0},a=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,i=typeof l=="function"?l():l;if(i==="all"||!i&&!this.trackedProps.size)return!0;const p=new Set(i??this.trackedProps);return this.options.useErrorBoundary&&p.add("error"),Object.keys(this.currentResult).some(h=>{const R=h;return this.currentResult[R]!==t[R]&&p.has(R)})};(e==null?void 0:e.listeners)!==!1&&a()&&(r.listeners=!0),this.notify({...r,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!Ke(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Y.batch(()=>{if(e.onSuccess){var t,s,r,a;(t=(s=this.options).onSuccess)==null||t.call(s,this.currentResult.data),(r=(a=this.options).onSettled)==null||r.call(a,this.currentResult.data,null)}else if(e.onError){var l,i,p,h;(l=(i=this.options).onError)==null||l.call(i,this.currentResult.error),(p=(h=this.options).onSettled)==null||p.call(h,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:R})=>{R(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Xe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function me(n,e){return Xe(n,e)||n.state.dataUpdatedAt>0&&se(n,e,e.refetchOnMount)}function se(n,e,t){if(e.enabled!==!1){const s=typeof t=="function"?t(n):t;return s==="always"||s!==!1&&le(n,e)}return!1}function ve(n,e,t,s){return t.enabled!==!1&&(n!==e||s.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&le(n,t)}function le(n,e){return n.isStaleByTime(e.staleTime)}function $e(n,e,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?e.isPlaceholderData:!te(n.getCurrentResult(),e)}function Ie(){return Ye()}function et(n,e){const t=Ie(),s=t.defaultQueryOptions(n);s._optimisticResults="optimistic";let r=new e(t,s);s.onError&&(s.onError=Y.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Y.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Y.batchCalls(s.onSettled)),pe(r).subscribe(i=>{r=i,r.setOptions(s,{listeners:!1})});const a=pe(r.getCurrentResult(),i=>r.subscribe(Y.batchCalls(i))),{subscribe:l}=Ze(a,i=>(i=r.getOptimisticResult(s),s.notifyOnChangeProps?i:r.trackResult(i)));return{subscribe:l}}function tt(n,e,t){const s=We(n,e,t);return et(s,Je)}function ge(n,e,t){const s=n.slice();return s[14]=e[t],s}function be(n,e,t){const s=n.slice();return s[17]=e[t],s}function ye(n,e){let t,s=e[17]+"",r;return{key:n,first:null,c(){t=_("th"),r=A(s),this.h()},l(a){t=w(a,"TH",{scope:!0,class:!0});var l=C(t);r=j(l,s),l.forEach(f),this.h()},h(){c(t,"scope","col"),c(t,"class","px-6 py-3 text-left text-xs font-bold text-stone-400 uppercase tracking-wider"),this.first=t},m(a,l){Q(a,t,l),v(t,r)},p(a,l){e=a},d(a){a&&f(t)}}}function st(n){let e=[],t=new Map,s,r=J(n[1]);const a=l=>l[14].id;for(let l=0;l<r.length;l+=1){let i=ge(n,r,l),p=a(i);t.set(p,e[l]=_e(p,i))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();s=ie()},l(l){for(let i=0;i<e.length;i+=1)e[i].l(l);s=ie()},m(l,i){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(l,i);Q(l,s,i)},p(l,i){i&130&&(r=J(l[1]),e=Ee(e,i,a,1,l,r,t,s.parentNode,Ce,_e,s,ge))},d(l){l&&f(s);for(let i=0;i<e.length;i+=1)e[i].d(l)}}}function rt(n){let e,t,s,r='<p class="font-bold text-lg">¯\\_(ツ)_/¯</p> <span class="text-yellow-200 font-bold">Nothing to display here.</span>';return{c(){e=_("tr"),t=_("td"),s=_("div"),s.innerHTML=r,this.h()},l(a){e=w(a,"TR",{});var l=C(e);t=w(l,"TD",{colspan:!0,class:!0});var i=C(t);s=w(i,"DIV",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-14t49zp"&&(s.innerHTML=r),i.forEach(f),l.forEach(f),this.h()},h(){c(s,"class","w-max h-11 mx-auto flex flex-col justify-center items-center"),c(t,"colspan",n[6].length+1),c(t,"class","p-4")},m(a,l){Q(a,e,l),v(e,t),v(t,s)},p:G,d(a){a&&f(e)}}}function lt(n){let e,t,s,r='<p class="font-bold text-lg">(╯°□°）╯︵ ┻━┻</p> <span class="text-red-400 font-bold">Oops! Something went wrong.</span>';return{c(){e=_("tr"),t=_("td"),s=_("div"),s.innerHTML=r,this.h()},l(a){e=w(a,"TR",{});var l=C(e);t=w(l,"TD",{colspan:!0,class:!0});var i=C(t);s=w(i,"DIV",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-10pjbpj"&&(s.innerHTML=r),i.forEach(f),l.forEach(f),this.h()},h(){c(s,"class","w-max h-11 mx-auto flex flex-col justify-center items-center"),c(t,"colspan",n[6].length+1),c(t,"class","p-4")},m(a,l){Q(a,e,l),v(e,t),v(t,s)},p:G,d(a){a&&f(e)}}}function nt(n){let e,t,s,r;return{c(){e=_("tr"),t=_("td"),s=_("img"),this.h()},l(a){e=w(a,"TR",{});var l=C(e);t=w(l,"TD",{colspan:!0,class:!0});var i=C(t);s=w(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(f),l.forEach(f),this.h()},h(){Oe(s.src,r=re+"/slash.png")||c(s,"src",r),c(s,"alt","loading..."),c(s,"class","animate-spin w-11 h-11 mx-auto"),c(t,"colspan",n[6].length+1),c(t,"class","p-4")},m(a,l){Q(a,e,l),v(e,t),v(t,s)},p:G,d(a){a&&f(e)}}}function _e(n,e){let t,s,r=e[14].name+"",a,l,i,p=X(e[14].type)+"",h,R,o,y=e[14].description+"",k,I,m,g,M='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blurple-500 w-6 h-6"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path><path d="m15 5 3 3"></path></svg>',x,b,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-600 w-6 h-6"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path><line x1="10" x2="10" y1="11" y2="17"></line><line x1="14" x2="14" y1="11" y2="17"></line></svg>',O,U,F;function E(){return e[12](e[14])}return{key:n,first:null,c(){t=_("tr"),s=_("td"),a=A(r),l=L(),i=_("td"),h=A(p),R=L(),o=_("td"),k=A(y),I=L(),m=_("td"),g=_("button"),g.innerHTML=M,x=L(),b=_("button"),b.innerHTML=S,O=L(),this.h()},l(d){t=w(d,"TR",{});var u=C(t);s=w(u,"TD",{class:!0});var T=C(s);a=j(T,r),T.forEach(f),l=P(u),i=w(u,"TD",{class:!0});var D=C(i);h=j(D,p),D.forEach(f),R=P(u),o=w(u,"TD",{class:!0});var H=C(o);k=j(H,y),H.forEach(f),I=P(u),m=w(u,"TD",{class:!0});var B=C(m);g=w(B,"BUTTON",{class:!0,"data-svelte-h":!0}),V(g)!=="svelte-y98zmn"&&(g.innerHTML=M),x=P(B),b=w(B,"BUTTON",{class:!0,"data-svelte-h":!0}),V(b)!=="svelte-r1fzpv"&&(b.innerHTML=S),B.forEach(f),O=P(u),u.forEach(f),this.h()},h(){c(s,"class","px-4 py-4 whitespace-nowrap font-bold font-mono"),c(i,"class","px-4 py-4 whitespace-nowrap font-semibold"),c(o,"class","px-4 py-4 whitespace-nowrap"),c(g,"class","bg-primary-600 hover:bg-primary-500 rounded-full p-2"),c(b,"class","bg-primary-600 hover:bg-primary-500 rounded-full p-2"),c(m,"class","px-4 py-4 whitespace-nowrap flex justify-center items-center gap-2"),this.first=t},m(d,u){Q(d,t,u),v(t,s),v(s,a),v(t,l),v(t,i),v(i,h),v(t,R),v(t,o),v(o,k),v(t,I),v(t,m),v(m,g),v(m,x),v(m,b),v(t,O),U||(F=Z(b,"click",E),U=!0)},p(d,u){e=d,u&2&&r!==(r=e[14].name+"")&&z(a,r),u&2&&p!==(p=X(e[14].type)+"")&&z(h,p),u&2&&y!==(y=e[14].description+"")&&z(k,y)},d(d){d&&f(t),U=!1,F()}}}function it(n){let e,t,s;return{c(){e=N("svg"),t=N("path"),s=N("polyline"),this.h()},l(r){e=q(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var a=C(e);t=q(a,"path",{d:!0}),C(t).forEach(f),s=q(a,"polyline",{points:!0}),C(s).forEach(f),a.forEach(f),this.h()},h(){c(t,"d","M22 11.08V12a10 10 0 1 1-5.93-9.14"),c(s,"points","22 4 12 14.01 9 11.01"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","2"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"class","text-green-500 h-7 w-7 mx-auto")},m(r,a){Q(r,e,a),v(e,t),v(e,s)},d(r){r&&f(e)}}}function at(n){let e,t,s,r,a;return{c(){e=N("svg"),t=N("path"),s=N("path"),r=N("path"),a=N("path"),this.h()},l(l){e=q(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var i=C(e);t=q(i,"path",{d:!0}),C(t).forEach(f),s=q(i,"path",{d:!0}),C(s).forEach(f),r=q(i,"path",{d:!0}),C(r).forEach(f),a=q(i,"path",{d:!0}),C(a).forEach(f),i.forEach(f),this.h()},h(){c(t,"d","M5 22h14"),c(s,"d","M5 2h14"),c(r,"d","M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"),c(a,"d","M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","2"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"class","text-yellow-500 h-7 w-7 mx-auto animate-spin")},m(l,i){Q(l,e,i),v(e,t),v(e,s),v(e,r),v(e,a)},d(l){l&&f(e)}}}function ot(n){let e,t,s,r=[],a=new Map,l,i,p,h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg>',R,o,y,k,I,m,g,M=J(n[6]);const x=d=>d[17];for(let d=0;d<M.length;d+=1){let u=be(n,M,d),T=x(u);a.set(T,r[d]=ye(T,u))}function b(d,u){return d[4]?nt:d[3]?lt:d[1].length==0?rt:st}let S=b(n),O=S(n);function U(d,u){if(d[2]&&!d[4])return at;if(!d[4]&&!d[3])return it}let F=U(n),E=F&&F(n);return{c(){e=_("table"),t=_("thead"),s=_("tr");for(let d=0;d<r.length;d+=1)r[d].c();l=L(),i=_("th"),p=_("button"),p.innerHTML=h,R=L(),o=_("tbody"),O.c(),y=L(),k=_("tr"),I=_("td"),E&&E.c(),this.h()},l(d){e=w(d,"TABLE",{class:!0});var u=C(e);t=w(u,"THEAD",{});var T=C(t);s=w(T,"TR",{class:!0});var D=C(s);for(let ee=0;ee<r.length;ee+=1)r[ee].l(D);l=P(D),i=w(D,"TH",{scope:!0,class:!0});var H=C(i);p=w(H,"BUTTON",{class:!0,"data-svelte-h":!0}),V(p)!=="svelte-1lvgcje"&&(p.innerHTML=h),H.forEach(f),D.forEach(f),T.forEach(f),R=P(u),o=w(u,"TBODY",{class:!0});var B=C(o);O.l(B),y=P(B),k=w(B,"TR",{class:!0});var K=C(k);I=w(K,"TD",{colspan:!0,class:!0});var ne=C(I);E&&E.l(ne),ne.forEach(f),K.forEach(f),B.forEach(f),u.forEach(f),this.h()},h(){c(p,"class","bg-primary-600 hover:bg-primary-500 rounded-full p-2"),c(i,"scope","col"),c(i,"class","px-6 py-3 text-xs font-bold text-stone-400 tracking-wider"),c(s,"class","shadow-md shadow-primary-700"),c(I,"colspan",n[6].length+1),c(I,"class","p-2"),c(k,"class","opacity-75"),c(o,"class","rounded-b-lg divide-y divide-primary-100"),c(e,"class","bg-primary-400 rounded-t-lg min-w-full divide-y divide-primary-600")},m(d,u){Q(d,e,u),v(e,t),v(t,s);for(let T=0;T<r.length;T+=1)r[T]&&r[T].m(s,null);v(s,l),v(s,i),v(i,p),v(e,R),v(e,o),O.m(o,null),v(o,y),v(o,k),v(k,I),E&&E.m(I,null),m||(g=Z(p,"click",n[11]),m=!0)},p(d,[u]){u&64&&(M=J(d[6]),r=Ee(r,u,x,1,d,M,a,s,Ce,ye,l,be)),S===(S=b(d))&&O?O.p(d,u):(O.d(1),O=S(d),O&&(O.c(),O.m(o,y))),F!==(F=U(d))&&(E&&E.d(1),E=F&&F(d),E&&(E.c(),E.m(I,null)))},i:G,o:G,d(d){d&&f(e);for(let u=0;u<r.length;u+=1)r[u].d();O.d(),E&&E.d(),m=!1,g()}}}function ut(n,e,t){let s,r,a,l,i,p,h,R=G,o=()=>(R(),R=Qe(r,b=>t(10,h=b)),r);n.$$.on_destroy.push(()=>R());let y=["Name","Type","Description"],{basePath:k=""}=e,{id:I="global"}=e;const m=Ie();async function g(b){$.warning(`Are you sure you want to delete "${b.name}" ${X(b.type)} Interaction?`,{action:{label:"Delete",onClick:()=>{$.promise(fe(`${k}/${b.id}`,{method:"DELETE"}).then(()=>{m.invalidateQueries({queryKey:s})}),{success:`${X(b.type)} (${b.name}) successfully deleted`,error:"Error occurred, try again",loading:"Deletion pending..."})}}})}const M=()=>Te(`${re}/add${I==="global"?"":`?guildId=${I}`}`),x=b=>g(b);return n.$$set=b=>{"basePath"in b&&t(8,k=b.basePath),"id"in b&&t(0,I=b.id)},n.$$.update=()=>{n.$$.dirty&1&&t(9,s=["app.commands",I]),n.$$.dirty&768&&o(t(5,r=tt({queryKey:s,queryFn:async()=>(await fe(k)).data}))),n.$$.dirty&1024&&t(4,a=h.isLoading),n.$$.dirty&1024&&t(3,l=h.isError),n.$$.dirty&1024&&t(2,i=h.isFetching),n.$$.dirty&1024&&t(1,p=h.data||[])},[I,p,i,l,a,r,y,g,k,s,h,M,x]}class ct extends Re{constructor(e){super(),ke(this,e,ut,ot,we,{basePath:8,id:0})}}function ht(n){let e,t="View Guild commands",s,r,a=`You are currently viewing the global list.
                Enter a guild id (your bot must be invited to it)
                and click the button to manage guild specific interactions`,l,i,p,h,R,o,y,k,I;return{c(){e=_("h1"),e.textContent=t,s=L(),r=_("p"),r.textContent=a,l=L(),i=_("input"),p=L(),h=_("button"),R=A("View Guild Interaction"),this.h()},l(m){e=w(m,"H1",{"data-svelte-h":!0}),V(e)!=="svelte-1uuz0mm"&&(e.textContent=t),s=P(m),r=w(m,"P",{"data-svelte-h":!0}),V(r)!=="svelte-1xj1ath"&&(r.textContent=a),l=P(m),i=w(m,"INPUT",{class:!0}),p=P(m),h=w(m,"BUTTON",{class:!0});var g=C(h);R=j(g,"View Guild Interaction"),g.forEach(f),this.h()},h(){c(i,"class","bg-primary-500 rounded-md p-2 focus:ring-0 focus:ring-offset-0 focus:outline-none"),h.disabled=o=n[1]==="",c(h,"class",y=(n[1]===""?"bg-primary-600 cursor-not-allowed":"bg-blurple-500 hover:bg-blurple-600")+" p-2 rounded-lg")},m(m,g){Q(m,e,g),Q(m,s,g),Q(m,r,g),Q(m,l,g),Q(m,i,g),oe(i,n[1]),Q(m,p,g),Q(m,h,g),v(h,R),k||(I=[Z(i,"input",n[8]),Z(h,"click",n[4])],k=!0)},p(m,g){g&2&&i.value!==m[1]&&oe(i,m[1]),g&2&&o!==(o=m[1]==="")&&(h.disabled=o),g&2&&y!==(y=(m[1]===""?"bg-primary-600 cursor-not-allowed":"bg-blurple-500 hover:bg-blurple-600")+" p-2 rounded-lg")&&c(h,"class",y)},d(m){m&&(f(e),f(s),f(r),f(l),f(i),f(p),f(h)),k=!1,De(I)}}}function dt(n){let e,t="View Global List",s,r,a,l,i,p,h,R="View global commands";return{c(){e=_("h1"),e.textContent=t,s=L(),r=_("p"),a=A('You are currently viewing the list for specific guild with id "'),l=A(n[0]),i=A(`"
                Click the below button to view the global list`),p=L(),h=_("a"),h.textContent=R,this.h()},l(o){e=w(o,"H1",{"data-svelte-h":!0}),V(e)!=="svelte-1mom79c"&&(e.textContent=t),s=P(o),r=w(o,"P",{});var y=C(r);a=j(y,'You are currently viewing the list for specific guild with id "'),l=j(y,n[0]),i=j(y,`"
                Click the below button to view the global list`),y.forEach(f),p=P(o),h=w(o,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(h)!=="svelte-ymyts1"&&(h.textContent=R),this.h()},h(){c(h,"href",re+"/dashboard"),c(h,"class","bg-emerald-500 hover:bg-emerald-600 p-2 rounded-lg")},m(o,y){Q(o,e,y),Q(o,s,y),Q(o,r,y),v(r,a),v(r,l),v(r,i),Q(o,p,y),Q(o,h,y)},p(o,y){y&1&&z(l,o[0])},d(o){o&&(f(e),f(s),f(r),f(p),f(h))}}}function ft(n){let e,t,s,r,a=n[3].username+"",l,i,p=n[3].discriminator+"",h,R,o,y=n[0]&&W.test(n[0])?`In guild view for guild ${n[0]}`:"In global view",k,I,m,g,M,x,b,S;function O(u){n[7](u)}let U={basePath:n[2]};n[0]!==void 0&&(U.id=n[0]),m=new ct({props:U}),xe.push(()=>Le(m,"id",O));function F(u,T){return T&1&&(b=null),b==null&&(b=!!(u[0]&&W.test(u[0]))),b?dt:ht}let E=F(n,-1),d=E(n);return{c(){e=_("div"),t=_("span"),s=_("h1"),r=A("Logged in for "),l=A(a),i=A("#"),h=A(p),R=L(),o=_("p"),k=A(y),I=L(),Pe(m.$$.fragment),M=L(),x=_("div"),d.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var T=C(e);t=w(T,"SPAN",{});var D=C(t);s=w(D,"H1",{class:!0});var H=C(s);r=j(H,"Logged in for "),l=j(H,a),i=j(H,"#"),h=j(H,p),H.forEach(f),R=P(D),o=w(D,"P",{class:!0});var B=C(o);k=j(B,y),B.forEach(f),D.forEach(f),I=P(T),Ue(m.$$.fragment,T),M=P(T),x=w(T,"DIV",{class:!0});var K=C(x);d.l(K),K.forEach(f),T.forEach(f),this.h()},h(){c(s,"class","font-bold font-mono text-3xl text-pink-300"),c(o,"class","text-sm font-medium text-primary-100"),c(x,"class","bg-primary-900 flex flex-col p-2 rounded-lg gap-2"),c(e,"class","m-5 flex flex-col gap-2")},m(u,T){Q(u,e,T),v(e,t),v(t,s),v(s,r),v(s,l),v(s,i),v(s,h),v(t,R),v(t,o),v(o,k),v(e,I),Fe(m,e,null),v(e,M),v(e,x),d.m(x,null),S=!0},p(u,[T]){(!S||T&8)&&a!==(a=u[3].username+"")&&z(l,a),(!S||T&8)&&p!==(p=u[3].discriminator+"")&&z(h,p),(!S||T&1)&&y!==(y=u[0]&&W.test(u[0])?`In guild view for guild ${u[0]}`:"In global view")&&z(k,y);const D={};T&4&&(D.basePath=u[2]),!g&&T&1&&(g=!0,D.id=u[0],Se(()=>g=!1)),m.$set(D),E===(E=F(u,T))&&d?d.p(u,T):(d.d(1),d=E(u),d&&(d.c(),d.m(x,null)))},i(u){S||(Ae(m.$$.fragment,u),S=!0)},o(u){je(m.$$.fragment,u),S=!1},d(u){u&&f(e),Be(m),d.d()}}}function pt(n,e,t){let s,r,a,l,i;ae(n,He,k=>t(6,l=k)),ae(n,ue,k=>t(3,i=k));const p=Me(ue);let h="";function R(){if(!W.test(h))return $.error("The guild id is invalid, try again");$.info(`Viewing guild "${h}"`),t(0,r=h),Te(`?guildId=${h}`)}function o(k){r=k,t(0,r),t(5,s),t(6,l)}function y(){h=this.value,t(1,h)}return n.$$.update=()=>{n.$$.dirty&64&&t(5,s=l.url.searchParams),n.$$.dirty&32&&t(0,r=s&&s.get("guildId")||"global"),n.$$.dirty&1&&t(2,a=r&&W.test(r)?`/applications/${p.id}/guilds/${r}/commands`:`applications/${p.id}/commands`)},[r,h,a,i,R,s,l,o,y]}class Tt extends Re{constructor(e){super(),ke(this,e,pt,ft,we,{})}}export{Tt as component};
